(function(n,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.mfe={}))})(this,function(n){"use strict";var E=Object.defineProperty;var p=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var h=(n,e,s)=>e in n?E(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,u=(n,e)=>{for(var s in e||(e={}))T.call(e,s)&&h(n,s,e[s]);if(p)for(var s of p(e))g.call(e,s)&&h(n,s,e[s]);return n};window.__jails__mfes=[];const e={exportMFE(t){window.__jails__mfes.push(t);const{name:o,module:c,dependencies:d,components:f}=t;return{name:o,module:c,dependencies:d,components:f}}},s={install(t,o){return o.forEach(y(t)),this}},_=t=>{const o=document.createElement("link");o.rel="stylesheet",o.href=t,document.head.appendChild(o)},M=t=>new Promise((o,c)=>{const d=document.createElement("script");d.src=t,d.onload=o,document.head.appendChild(d)}),w=t=>fetch(t).then(o=>o.text()),y=t=>({name:o,js:c,css:d,target:f,html:m,dependencies:C})=>{const l=document.querySelector(f);d&&_(d),c&&M(c).then(H=>{var a;const r=window.__jails__mfes.find(i=>i.name==o);(a=r.components)==null||a.forEach(i=>t.register(i.name,i.module,i.dependencies)),t.register(r.name,r.module,u(u({},r.dependencies),C)),m?w(m).then(i=>{l.innerHTML=i,t.start(l)}):t.start(l)})};n.MfeClient=s,n.MfeHost=e,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
