(function(t,n){typeof exports=="object"&&typeof module!="undefined"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis!="undefined"?globalThis:t||self,n(t.mfe={}))})(this,function(t){"use strict";const n={load(f){f.forEach(({name:p,target:h,url:i})=>{const a=document.querySelector(h),l=document.createElement("base"),o=document.createElement("link");fetch(i).then(s=>s.text()).then(s=>{const c=[],r=new DOMParser().parseFromString(s,"text/html");l.href=i,r.head.appendChild(l);const u=r.querySelector("link[data-mfe]"),m=r.querySelector("script[data-mfe]"),y=r.body.querySelector(p);if(a.innerHTML=y.outerHTML,u&&(o.rel="stylesheet",o.href=u.href,document.head.appendChild(o),c.push(new Promise((e,d)=>{o.onload=e,o.onerror=d}))),m){const e=document.createElement("script");e.src=m.src,c.push(new Promise((d,S)=>{e.onload=d,e.onerror=S})),document.head.appendChild(e)}Promise.all(c).then(e=>a.dataset.mfeloaded=!0).catch(console.error)})})}};t.default=n,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
